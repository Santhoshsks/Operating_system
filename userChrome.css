/* ==========================
   Zen Miniplayer ‚Äì Expand-up overlay, no overlap, compact slider
   ========================== */

/* Miniplayer shell */
#zen-media-controls-toolbar {
  border-radius: 12px !important;
  backdrop-filter: blur(18px) saturate(140%) !important;
  -webkit-backdrop-filter: blur(18px) saturate(140%) !important;
  border: 1px solid rgba(255,255,255,0.10) !important;
}

/* Toolbar items */
#zen-media-controls-toolbar > toolbaritem {
  background-color: var(--nebula-color-min, rgba(30,34,38,0.16)) !important;
  backdrop-filter: saturate(1) !important;
}

#zen-media-progress-bar {
  --zen-primary-color: rgba(255,255,255,1) !important;
  --zen-colors-border: rgba(100,100,100,0.01) !important;
}

#zen-media-controls-toolbar .show-on-hover,
#zen-media-controls-toolbar #zen-media-extra,
#zen-media-controls-toolbar .zen-media-extra,
#zen-media-controls-toolbar {

  backdrop-filter: blur(18px) saturate(140%) !important;
  -webkit-backdrop-filter: blur(18px) saturate(140%) !important;
}





/* ------------------------- GENERAL ZEN UI ------------------------- */

/* Main UI tint */
#zen-main-app-wrapper {
  background: var(--nebula-ui-tint) !important;
}

/* Website background tint */
browser[transparent='true'] {
  background: var(--nebula-website-tint) !important;
}

/* Hide identity label for Bonjourr */
#identity-icon-label[value="Extension (Bonjourr ¬∑ Minimalist Startpage)"] {
  display: none !important;
}

/* Global overrides */
:root {
  --attention-dot-color: transparent !important;
  --zen-themed-toolbar-bg-transparent: transparent !important;
}

:root[nebula-zen-gradient-contrast-zero] {
  --zen-main-browser-background: transparent !important;
}

browser {
    transform: translateZ(0);
}


:root {
  --zen-colors-tertiary: transparent !important;
  --zen-settings-secondary-background: transparent !important;
}


@-moz-document url-prefix("about:") {
  table,
  .action-box {
    background-color: light-dark(rgba(255, 255, 255, 0.25), rgba(0, 0, 0, 0.35)) !important;
    border-radius: 13px !important;
  }
}

@-moz-document url(about:home), url(about:newtab), url(about:privatebrowsing) {
  body, .App{
    background-color: #00000070 !important;
  }

  .top-sites-list, .personalizeButtonWrapper{
    opacity: 0 !important;
    transition: opacity 0.3s ease-in-out;

    &:hover{
      opacity: 1 !important;
    }
  }
  
  .App > div:nth-child(2), .wallpaper{
    display: none !important;
  }
}





/* ----------------------------- Workspace Button ---------------------------- */

#zen-workspaces-button {
  container-type: initial !important;
  width: auto !important;
  padding: 3px !important;
  border-radius: calc(var(--nebula-border-radius) - 2px) !important;
  transition: box-shadow 0.3s ease,
              background-color 0.3s ease;
}

#zen-workspaces-button .subviewbutton {
  border-radius: calc(var(--nebula-border-radius) - 4.5px) !important;
  font-size: 16px !important;
  opacity: 0.75 !important;
  filter: grayscale(var(--nebula-workspace-grayscale, 100%)) !important;
  transition: background-color 0.2s ease,
              filter 0.3s ease,
              opacity 0.3s ease-out,
              transform 0.2s ease !important;
}

#zen-workspaces-button .subviewbutton:hover {
  filter: grayscale(0%) !important;
  opacity: 0.9 !important;
}

#zen-workspaces-button .subviewbutton:hover > img,
#zen-workspaces-button .subviewbutton:hover > svg {
  opacity: 1 !important;
}

#zen-workspaces-button .subviewbutton:active {
  filter: grayscale(0%) !important;
  transform: scale(0.85) !important;
}

#zen-workspaces-button .subviewbutton:active:hover {
  transform: scale(0.9) !important;
}

#zen-workspaces-button .subviewbutton[active] {
  position: relative;
  overflow: hidden !important;
  filter: grayscale(0%) !important;
  opacity: 1 !important;
  transition: transform 0.15s ease-out !important;
}

/* ------------------------- Style 1 (Default) ------------------------------- */

@media not ((-moz-pref("nebula-workspace-style", 0)) or
            (-moz-pref("nebula-workspace-style", 2))) {
  
  #zen-workspaces-button {
    background-color: var(--nebula-color-min) !important;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0) !important;
  }

  #zen-workspaces-button:hover {
    background-color: var(--nebula-color-hover) !important;
    box-shadow: 0 2px 12px var(--nebula-color-shadow) !important;
  }

  #zen-workspaces-button .subviewbutton {
    --toolbarbutton-hover-background: color-mix(in srgb,
      var(--zen-branding-bg-reverse) 10%,
      transparent 90%) !important;
  }

  #zen-workspaces-button .subviewbutton:hover {
    background-color: light-dark(rgba(255, 255, 255, 0),
                                 rgba(100, 100, 100, 0)) !important;
  }

  #zen-workspaces-button .subviewbutton:active {
    background-color: var(--toolbarbutton-active-background) !important;
  }

  #zen-workspaces-button .subviewbutton[active] {
    background-color: light-dark(rgba(255, 255, 255, 0.12),
                                 rgba(255, 255, 255, 0.07)) !important;
    box-shadow: 0 0 4px rgba(0, 0, 0, 0.2) !important;
  }
}

/* ----------------------- Styles 0 & 2 (Shared) ----------------------------- */

@media ((-moz-pref("nebula-workspace-style", 0)) or
        (-moz-pref("nebula-workspace-style", 2))) {
  
  #zen-workspaces-button {
    height: 30px !important;
    position: relative !important;
    overflow: visible !important;
    z-index: 1;
  }

  html:not([zen-sidebar-expanded="true"]):not([zen-single-toolbar="true"])
  #zen-workspaces-button {
    height: auto !important;
    width: 30px !important;
  }

  #zen-workspaces-button .subviewbutton {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    height: 40px !important;
    border-radius: 12px !important;
    font-size: 1.25em !important;
    transform: scale(1) !important;
    transform-origin: bottom center !important;
    transition: transform 0.35s cubic-bezier(0.25, 1, 0.5, 1),
                filter 0.35s ease,
                opacity 0.3s ease-out,
                color 0.3s ease-out !important;
    color: transparent !important;
    background-color: transparent !important;
    box-shadow: none !important;
    animation: none !important;
    --toolbarbutton-hover-background: unset !important;
  }

  #zen-workspaces-button .subviewbutton:hover {
    transform: scale(1.4) !important;
    opacity: 1 !important;
    z-index: 3 !important;
    color: inherit !important;
  }

  #zen-workspaces-button .subviewbutton:active {
    transform: scale(1) !important;
    filter: grayscale(var(--nebula-workspace-grayscale, 100%)) !important;
  }

  #zen-workspaces-button .subviewbutton:active:hover {
    transform: scale(1) !important;
  }

  #zen-workspaces-button .subviewbutton[active] {
    background-color: transparent !important;
    box-shadow: none !important;
    overflow: unset !important;
    position: static !important;
    animation: none !important;
    color: inherit !important;
  }

  /* Sibling hover effects */
  #zen-workspaces-button .subviewbutton:hover + .subviewbutton:not([active]),
  #zen-workspaces-button .subviewbutton:has(+ .subviewbutton:hover):not([active]) {
    transform: scale(1.15) !important;
    opacity: 0.9 !important;
    z-index: 2 !important;
    transition: transform 0.35s cubic-bezier(0.25, 1, 0.5, 1),
                opacity 0.3s ease-out;
  }

  #zen-workspaces-button .subviewbutton:hover + .subviewbutton + .subviewbutton:not([active]),
  #zen-workspaces-button .subviewbutton:has(+ .subviewbutton + .subviewbutton:hover):not([active]) {
    transform: scale(1) !important;
    opacity: 0.85 !important;
    z-index: 1 !important;
    transition: transform 0.35s cubic-bezier(0.25, 1, 0.5, 1),
                opacity 0.3s ease-out;
  }

  #zen-workspaces-button .subviewbutton[active]:hover {
    transform: scale(1.2) !important;
    z-index: 2 !important;
  }

  /* Indicator dot */
  #zen-workspaces-button .subviewbutton::before {
    content: "‚Ä¢";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -56.5%);
    font-size: 2em;
    color: light-dark(white, rgba(255, 255, 255, 0.35));
    opacity: 1;
    pointer-events: none;
    transition: opacity 0.3s ease;
  }

  #zen-workspaces-button .subviewbutton:hover::before,
  #zen-workspaces-button .subviewbutton[active]::before {
    opacity: 0;
  }
}

/* ----------------------------- Style 0 (No Background) --------------------------- */

@media (-moz-pref("nebula-workspace-style", 0)) {
  #zen-workspaces-button,
  #zen-workspaces-button:hover {
    background-color: transparent !important;
    box-shadow: none !important;
  }
}




:root {
  /* ‚ú® Glass & Blur */
  --nebula-glass: blur(var(--var-nebula-glass-blur)) saturate(var(--var-nebula-glass-saturation)) !important;
  --nebula-color-glass: light-dark(var(--var-nebula-color-glass-light), var(--var-nebula-color-glass-dark)) !important;

  /* üñºÔ∏è Layout */
  --nebula-border-radius: var(--var-nebula-border-radius) !important;
  --nebula-essentials-width: var(--var-nebula-essentials-width) !important;
  --nebula-workspace-grayscale: var(--var-nebula-workspace-grayscale) !important;

  /* üé® UI & Website Tint */
  --nebula-ui-tint: light-dark(var(--var-nebula-ui-tint-light), var(--var-nebula-ui-tint-dark)) !important;
  --nebula-website-tint: light-dark(var(--var-nebula-website-tint-light), var(--var-nebula-website-tint-dark)) !important;

  /* üîÆ Colors */
  --nebula-color-min: light-dark(var(--var-nebula-tabs-minimum-light), var(--var-nebula-tabs-minimum-dark)) !important;
  --nebula-color: light-dark(var(--var-nebula-tabs-default-light), var(--var-nebula-tabs-default-dark)) !important;
  --nebula-color-hover: light-dark(var(--var-nebula-tabs-hover-light), var(--var-nebula-tabs-hover-dark)) !important;
  --nebula-color-selected: light-dark(var(--var-nebula-tabs-selected-light), var(--var-nebula-tabs-selected-dark)) !important;
  
  --nebula-color-shadow: light-dark(var(--var-nebula-color-shadow-light), var(--var-nebula-color-shadow-dark)) !important;
}


:root {
  /* ‚ú® Glass & Blur */
  --nebula-glass: blur(32px) saturate(140%);
  --nebula-color-glass: light-dark(rgba(255, 255, 255, 0.4), rgba(0, 0, 0, 0.4));
  
  /* üñºÔ∏è Layout */
  --nebula-border-radius: 13px;
  --nebula-essentials-width: 60px;
  --nebula-workspace-grayscale: 100%;
  
  /* üé® UI & Website Tint */
  --nebula-ui-tint: light-dark(rgba(255,255,255,0.2), rgba(0,0,0,0.2));
  --nebula-website-tint: light-dark(rgba(255,255,255,0), rgba(0,0,0,0));
  
  /* üîÆ Colors */
  --nebula-color-min: light-dark(rgba(255, 255, 255, 0.1), rgba(0, 0, 0, 0.2));
  --nebula-color: light-dark(rgba(255,255,255,0.25), rgba(0,0,0,0.35));
  --nebula-color-hover: light-dark(rgba(255,255,255,0.35), rgba(0,0,0,0.45));
  --nebula-color-selected: light-dark(rgba(255,255,255,0.45), rgba(0,0,0,0.55));
  
  --nebula-color-shadow: light-dark(rgba(255, 255, 255, 0.055), rgba(0, 0, 0, 0.55));
}


